---
import Header from "../components/Header.astro";
import Card from "../components/Card.astro";
import Gallery from "../components/Gallery.astro";
import Layout from "../layouts/Layout.astro";
import WeeklyCalendar from "../components/WeeklyCalendar.astro";
import DayActivities from "../components/DayActivities.astro";
import BoardingPass from "../components/BoardingPass.astro";
import Weather from "../components/Weather.astro";

const tripData = {
  destination: "Edimburgo, Escocia",
  dates: "14-18 abril 2025",
  activities: {
    "2025-04-14": [
      "Vuelo a Edimburgo",
      "Llegada a Edimburgo",
      "Dar una vuelta por la ciudad y cena",
      "Check-in Hotel",
    ],
    "2025-04-15": [
      "Desayuno",
      "Free Tour",
      "Comida",
      "Grassmarket",
      "Escaleras de The Vennel",
      "Cementerio Greyfriars",
      "Catedral de St Giles",
      "Mary King’s Close",
      "Palacio de Holyroodhouse",
      "Calton Hill para ver el atardecer",
      "Tolbooth Tavern"
    ],
    "2025-04-16": [
      "Castillo de Edimburgo", 
      "Princes Street Gardens",
      "Pinces Street",
      "Scott Monument",
      "Royal Mile",
      "Dean Village",
      "Comida",
      "Degustación whisky",
      "Arthur's Seat",

    ],
    "2025-04-17": [
      "Excursión a las Highlands a ver el Lago Ness, vaquitas peludas y muchos paisajes bonitos"
  ],
    "2025-04-18": ["Check-out", "Vuelo de vuelta"],
  },
  images: ["img/royal-mile.webp", "img/edinburgh-castle.webp"],
};
---

<Layout>
  <Header />

  <main class="container mx-auto px-4 py-8">
    <!-- Grid principal -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">

      <!-- Sección Destino -->
      <Card
        class="card-hover md:col-span-3 bg-gray-900 text-white p-6 flex flex-col items-center relative overflow-hidden"
      >
        <!-- Background image -->
        <div
          class="absolute inset-0 opacity-20 bg-cover bg-center"
          style="background-image: url('/img/edinburh-skyline.webp');"
        >
        </div>

        <!-- Content -->
        <h1 class="text-3xl font-semibold text-indigo-700 mb-3">
          Tu billete a {tripData.destination}
        </h1>
        <div class="relative z-10 w-full flex justify-center">
          <BoardingPass
            name="Carolina"
            destination={tripData.destination}
            date={tripData.dates}
            flight="CR29"
            seat="7A"
          />
        </div>
      </Card>

      <!-- Galería -->
      <Card class="card-hover bg-white p-6 border border-gray-200 h-fit">
        <h2 class="text-xl font-semibold text-indigo-700 mb-3">
          Galería de imágenes
        </h2>
        <Gallery images={tripData.images} />
      </Card>

      <!-- Calendario Semanal Interactivo -->
      <div class="md:col-span-2">
        <Card class="card-hover bg-blue-100/50 p-4 max-w-lg">
          <WeeklyCalendar
            startDate="2025-04-14"
            endDate="2025-04-18"
            activities={tripData.activities}
          />
        </Card>
      </div>

      <!-- Actividades del día -->
      <div class="md:row-span-2"> <!-- Añade row-span para ocupar 2 filas -->
        <Card class="card-hover bg-white p-4 border border-gray-200 h-full">
          <DayActivities activities={tripData.activities} />
        </Card>
      </div>

      <!-- Sección Clima -->
      <div class="h-fit self-start"> <!-- Añade self-start y altura fija -->
        <Card class="card-hover">
          <Weather />
        </Card>
      </div>

      <!-- Mapa de Google -->
      <Card
        class="card-hover col-span-full bg-white p-6 border border-gray-200"
      >
        <h2 class="text-xl font-semibold text-indigo-700 mb-3">
          Mapa de los sitios
        </h2>
        <div class="flex flex-wrap gap-4">
          <iframe
            src="https://www.google.com/maps/d/embed?mid=1FpW4kBB8sBMGQtpyGMq3SzGPDVdSo_A&ehbc=2E312F"
            width="100%"
            height="480"
            class="flex-1 border rounded-lg"
          >
          </iframe>
          <iframe
            src="https://www.google.com/maps/d/embed?mid=1tUotZmdo--eLKCkPc5BJqNSVKsvbA8Q&ehbc=2E312F"
            width="100%"
            height="480"
            class="flex-1 border rounded-lg"
          >
          </iframe>
        </div>
      </Card>
    </div>
  </main>
</Layout>
